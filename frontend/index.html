<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web-GIS Dashboard GEOTE</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="sidebar left-sidebar">
            <h1>Web-GIS Dashboard GEOTE</h1>

            <section class="control-section">
                <h2>Layers</h2>
                <label><input type="checkbox" id="layerChko"> CHKO</label>
                <label><input type="checkbox" id="layerOrp"> ORP</label>
                <label><input type="checkbox" id="layerKu"> Katastrální území (KU)</label>
                <label><input type="checkbox" id="layerClimate"> Klima</label>
            </section>

            <section class="control-section">
                <h2>Výběr území</h2>
                <div class="radio-group">
                    <label><input type="radio" name="territoryType" value="ku" checked> Katastrální území</label>
                    <label><input type="radio" name="territoryType" value="orp"> ORP</label>
                    <label><input type="radio" name="territoryType" value="chko"> CHKO</label>
                </div>
                <input type="text" id="territorySearchInput" placeholder="Search by name...">
                <button id="selectFromMapButton">Vybrat z mapy</button>
            </section>

            <section class="control-section">
                <h2>Klimatická data</h2>
                <label for="indicatorSelect">Indicator:</label>
                <select id="indicatorSelect">
                    <option value="tavg">Průměrná teplota (TAVG)</option>
                    <option value="sra">Srážky (SRA)</option>
                    <option value="rh">Relativní vlhkost (RH)</option>
                    <option value="wv">Rychlost větru (WV)</option>
                    <option value="de_martonne">De Martonne</option>
                    <option value="heat_index">Heat Index</option>
                    <option value="pet">PET</option>
                </select>

                <label for="yearSelect">Year:</label>
                <select id="yearSelect"></select> <!-- Populated by JS -->

                <label for="periodSelect">Period:</label>
                <select id="periodSelect">
                  <optgroup label="Monthly">
                    <option value="1">M1 (Leden)</option>
                    <option value="2">M2 (Únor)</option>
                    <option value="3">M3 (Březen)</option>
                    <option value="4">M4 (Duben)</option>
                    <option value="5">M5 (Květen)</option>
                    <option value="6">M6 (Červen)</option>
                    <option value="7">M7 (Červenec)</option>
                    <option value="8">M8 (Srpen)</option>
                    <option value="9">M9 (Září)</option>
                    <option value="10">M10 (Říjen)</option>
                    <option value="11">M11 (Listopad)</option>
                    <option value="12">M12 (Prosinec)</option>
                  </optgroup>

                  <optgroup label="Seasonal">
                    <option value="djf">DJF (Zima)</option>
                    <option value="mam">MAM (Jaro)</option>
                    <option value="jja">JJA (Léto)</option>
                    <option value="son">SON (Podzim)</option>
                  </optgroup>

                  <optgroup label="Special">
                    <option value="as">A–S (Annual Scale)</option>
                    <option value="om">O–M (Říjen–Březen)</option>
                  </optgroup>

                  <optgroup label="Annual">
                    <option value="annual">YEAR (Celoroční průměr)</option>
                  </optgroup>
                </select>

                <button id="applyClimateButton">Použít</button>
            </section>
        </div>

        <div id="map"></div>

        <div class="sidebar right-panel" id="detailPanel">
            <h2>Detail Panel</h2>
            <div id="selectedTerritoryInfo">
                <p><strong>Name:</strong> <span id="detailName">N/A</span></p>
                <p><strong>Level:</strong> <span id="detailLevel">N/A</span></p>
                <p><strong>Indicator:</strong> <span id="detailIndicator">N/A</span></p>
                <p><strong>Year:</strong> <span id="detailYear">N/A</span></p>
                <p><strong>Month:</strong> <span id="detailMonth">N/A</span></p>
            </div>

            <h3>Numeric Summary</h3>
            <div id="numericSummary">
                <p><strong>Value for area:</strong> <span id="summaryAreaValue">N/A</span></p>
                <p><strong>Min for CZ:</strong> <span id="summaryMinCZ">N/A</span></p>
                <p><strong>Max for CZ:</strong> <span id="summaryMaxCZ">N/A</span></p>
                <p><strong>Mean for CZ:</strong> <span id="summaryMeanCZ">N/A</span></p>
            </div>

            <h3>Time Series Data</h3>
            <div id="timeSeriesTableContainer">
                <table>
                    <thead>
                        <tr id="timeSeriesTableHeader"></tr>
                    </thead>
                    <tbody id="timeSeriesTableBody">
                    </tbody>
                </table>
            </div>

            <h3>Chart</h3>
            <div class="chart-container">
                <canvas id="climateChart"></canvas>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="map.js"></script>
</body>
</html>
